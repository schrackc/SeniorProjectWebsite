<!DOCTYPE html>
<script type="module" src="firebaseLoginFunctions.js"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.2.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css">
<!--Firestore script-->
<script type="module" src="FireBaseCollection.js"></script>
<script type="module" src="addButton.js"></script>
<script src="https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.23.0/maps/maps-web.min.js"></script>
<script src="https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.23.0/services/services-web.min.js"></script>

<html lang="en" style="visibility: hidden;" id="webpage" >
  <head>
    <title>Scan-A-Lot Management</title>
    <link rel="stylesheet" type="text/css" href="https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.23.0/maps/maps.css"/>
    <link rel="icon" type="image/x-icon" href="Images/logo.webp"/>
    <link rel="stylesheet" href="data-table.css">
    <script src="data-table.js"></script>
  </head>

  <body onload="openTable(event, 'Tickets')">
    <!--Header-->
    <div class="header">
      <a class="imgcontainer">
        <img src="Images/logo.webp" alt="Scan-A-Lot" class="avatar">
      </a>
      <a class="logoutButton" id="logoutButton">
        <button id = "logout">Logout</button>
      </a>
    </div>
    <h2>Scan-A-Lot Management</h2>
    
    <!--Tab Buttons to Select Table View-->
    <div class="tab" onload="openTable(event, 'Tickets')">
      <button class="tablinks" onclick="openTable(event, 'Tickets')">Tickets</button>
      <button class="tablinks" onclick="openTable(event, 'Vehicles')">Vehicles</button>
      <button class="tablinks" onclick="openTable(event, 'Officers')">Officers</button>
      <button class="tablinks" onclick="openTable(event, 'Parking Lot')">Parking Lot</button>
      <button class="tablinks" onclick="openTable(event, 'Offense')">Offense</button>
    </div>

    <!--Ticket Table-->
    <div id="Tickets" class="tabContent">
      <h3>
        <p>Tickets</p>
      </h3>
      <table class="table table-striped">
          <thead>
            <th>Ticket ID</th> 
            <th>Plate Number</th> 
            <th>State</th>
            <th>Offense </th> 
            <th>Time</th> 
            <th>ParkingLot</th>
            <th>FineAmount</th>
            <th>Officer</th>
            <th>CarMake</th> 
            <th>CarModel</th>   
          </thead>
          <tbody id="tTicketBody"></tbody>
      </table>
    </div>
    
    <!--Vehicle Table-->
    <div id="Vehicles" class="tabContent">
      <h3>
        <p>Vehicles</p>
        <!--Add New Vehicle Button-->
        <button class="tableTools" id="addVehicleButton">Add Vehicle</button>
      </h3>
      <!--Popup Box When Adding New Vehicle-->
      <div class="popup">
        <div class="popuptext" id='addVehiclePopup'>
          <!--Fill Boxes for Vehicle Add Vehicle Fields-->
          <h4>Vehicle Owner First Name:</h4>
          <input type="text" id="vehicleFirstName" placeholder="Owner First Name" class="popupInsertBox"/>
          <h4>Vehicle Owner Last Name:</h4>
          <input type="text" id="vehicleLastName" placeholder="Owner Last Name" class="popupInsertBox"/>
          <h4>Vehicle License Number:</h4>
          <input type="text" id="licenseNumber" placeholder="License Number" class="popupInsertBox"/>
          <h4>Vehicle License State</h4>
          <select id="licenseState" class="popupInsertBox">
            <option>--Please choose an option--</option>
            <option>Alabama</option>
            <option>Alaska</option>
            <option>Arizona</option>
            <option>Arkansas</option>
            <option>California</option>
            <option>Colorado</option>
            <option>Connecticut</option>
            <option>Delaware</option>
            <option>Florida</option>
            <option>Georgia</option>
            <option>Hawaii</option>
            <option>Idaho</option>
            <option>Illinois</option>
            <option>Indiana</option>
            <option>Iowa</option>
            <option>Kansas</option>
            <option>Kentucky</option>
            <option>Louisiana</option>
            <option>Maine</option>
            <option>Maryland</option>
            <option>Massachusetts</option>
            <option>Michigan</option>
            <option>Minnesota</option>
            <option>Mississippi</option>
            <option>Missouri</option>
            <option>Montana</option>
            <option>Nebraska</option>
            <option>Nevada</option>
            <option>New Hampshire</option>
            <option>New Jersey</option>
            <option>New Mexico</option>
            <option>New York</option>
            <option>North Carolina</option>
            <option>North Dakota</option>
            <option>Ohio</option>
            <option>Oklahoma</option>
            <option>Oregon</option>
            <option>Pennsylvania</option>
            <option>Rhode Island</option>
            <option>South Carolina</option>
            <option>South Dakota</option>
            <option>Tennessee</option>
            <option>Texas</option>
            <option>Utah</option>
            <option>Vermont</option>
            <option>Virgnia</option>
            <option>Washington</option>
            <option>West Virginia</option>
            <option>Wisconsin</option>
            <option>Wyoming</option>
          </select>
          <h4>Vehicle Make:</h4>
          <input type="text" id="vehicleMake" placeholder="Car Make" class="popupInsertBox"/>
          <h4>Vehicle Model:</h4>
          <input type="text" id="vehicleModel" placeholder="Car Model" class="popupInsertBox"/>
          <h4>Vehicle Color:</h4>
          <input type="text" id="vehicleColor" placeholder="Car Color" class="popupInsertBox"/>
          <h4>Authorized Parking Lots (can select multiple by holding ctrl while selecting)</h4>
          <select id="allowLots" multiple>
          </select>
          
          <!--Popup Issue Warning-->
          <div id="popupVehicleWarning" class="popupWarning"></div>

          <!--Cancel Buttons and Add new Vehicle Button-->
          <button class="popupCancelButton" id="popupVehicleCancel">Cancel</button>
          <button class="popupUpdateButton" id="popupVehicleUpdateButton">Add Vehicle</button>
        </div>
      </div> 
      <table class="table table-striped">
        <thead>
          <th>License Number</th>
          <th>State</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Make </th>
          <th>Model</th>
          <th>Color</th>
          <th>ID Number</th>
          <th>Parking Lot</th>
        </thead>
        <tbody id="tVehiclesBody"></tbody>
      </table>
    </div>
    
    <!--Officer Table-->
    <div id="Officers" class="tabContent">
      <h3>
        <p>Officers</p>
        <!--Add New Vehicle Button-->
        <button class="tableTools" id='addOfficerButton'>Add Officer</button>
      </h3>

      <!--Popup Box When Adding New Officer-->
      <div class="popup">
        <div class="popuptext" id='addOfficerPopup'>
          <!--Fill Boxes for Officer Add Officer Fields-->
          <h4>First Name:</h4>
          <input type="text" id="firstName" placeholder="First Name" class="popupInsertBox"/>
          <h4>Last Name:</h4>
          <input type="text" id="lastName" placeholder="Last Name" class="popupInsertBox"/>
          <h4>Email:</h4>
          <input type="text" id="email" placeholder="E-mail" class="popupInsertBox"/>
          <h4>Password:</h4>
          <input type="password" id="password" placeholder="Password" class="popupInsertBox"/>
          <h4>Confirm Password</h4>
          <input type="password" id="password2" placeholder="Confirm Password" class="popupInsertBox"/>
          
          <!--Popup Issue Warning-->
          <div id="popupOfficerWarning" class="popupWarning"></div>

          <!--Cancel Buttons and Add new Officer Button-->
          <button class="popupCancelButton" id="popupOfficerCancel">Cancel</button>
          <button class="popupUpdateButton" id="popupOfficerUpdateButton">Add Officer</button>
        </div>
      </div>
      <!--Officer Data Table-->
      <table class="table table-striped">
        <thead>
          <th>Last Name</th> 
          <th>First Name</th> 
          <th>Username</th>   
          <th>Email</th>
          <th>Modify</th>
        </thead>
        <tbody id="tOfficersBody"></tbody>
      </table> 
    </div>

    <!--Parking Lot Table-->
    <div id="Parking Lot" class="tabContent">
      <h3>
        <p>Parking Lot</p>
        <!--New Parking Lot Button-->
        <button class="tableTools" id="addLotsButton">Add Parking Lot</button>
      </h3>
      <!--Popup Box When Adding New Offense-->
      <div class="popup">
        <div class="popuptext" id='addLotsPopup'>
          <!--Fill Boxes for Offense Add Offense Fields-->
          <h4>Lot Name:</h4>
          <input type="text" id="lotName" placeholder="Lot Name" class="popupInsertBox"/>
          <h4>Select Map Area of Parking Lot</h4>
          <div id="map"></div>
          
          <!--Popup Issue Warning-->
          <div id="popupLotWarning" class="popupWarning"></div>

          <!--Cancel Buttons and Add new Offense Button-->
          <button class="popupCancelButton" id="popupLotsCancel">Cancel</button>
          <button class="popupUpdateButton" id="popupLotsUpdateButton">Add Lot</button>
        </div>
      </div>
      <table class="table table-striped">
          <thead>
            <th>Lot Name</th>
            <th>Max Latitude</th>
            <th>Max Longitude</th>
            <th>Min Latitude</th>
            <th>Min Longitude</th>
          </thead>
          <tbody id="tParkingLotsBody"></tbody>
      </table>
    </div>

    <!--Offense Table-->
    <div id="Offense" class="tabContent">        
      <h3>
        <p>Offense</p>
        <!--Add New Offense Button-->
        <button class="tableTools" id="addOffenseButton">Add Offense</button>
      </h3>
      <!--Popup Box When Adding New Offense-->
      <div class="popup">
        <div class="popuptext" id='addOffensePopup'>
          <!--Fill Boxes for Offense Add Offense Fields-->
          <h4>Offense Type:</h4>
          <input type="text" id="offenseType" placeholder="Offense Type" class="popupInsertBox"/>
          <h4>Currency</h4>
          <select id="currencyType" class="popupInsertBox">
            <option>--Please choose an option--</option>
            <option>$</option>
            <option>€</option>
            <option>£</option>
          </select>
          <h4>Fine Amount:</h4>
          <input type="text" id="fineAmount" placeholder="Fine Amount" class="popupInsertBox"/>
          
          <!--Popup Issue Warning-->
          <div id="popupOffenseWarning" class="popupWarning"></div>

          <!--Cancel Buttons and Add new Offense Button-->
          <button class="popupCancelButton" id="popupOffenseCancel">Cancel</button>
          <button class="popupUpdateButton" id="popupOffenseUpdateButton">Add Offense</button>
        </div>
      </div>
      <table class="table table-striped">
        <thead>
          <th>Offense Type</th>
          <th>Fine Amount</th>
          <th>Modify</th>
        </thead>
        <tbody id="tOffensesBody"></tbody>
      </table>
    </div>
  </body>
</html>